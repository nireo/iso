
daemon off;
worker_processes auto;
pcre_jit on;

pid /tmp/volume1/nginx_volume.pid;
error_log /dev/stderr;

events {
  multi_accept on;
  accept_mutex off;
  worker_connections 4096;
}

http {
  access_log off;

  sendfile on;
  sendfile_max_chunk 1024k;

  tcp_nodelay on;
  tcp_nopush on;

  server_tokens off;
  default_type application/octet-stream;

  server {
    listen 3001 backlog=4096;
      location / {
        root /tmp/volume1;
        client_body_temp_path /tmp/volume1/body_temp;
        client_max_body_size 0;

        dav_methods PUT DELETE;
        dav_access group:rw all:r;
        create_full_put_path on;

        autoindex on;
        autoindex_format json;
      }
  }
}
